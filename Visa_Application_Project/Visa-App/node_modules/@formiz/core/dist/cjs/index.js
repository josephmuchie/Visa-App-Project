"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types"));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}var getInitialState=function(e){return{id:e,resetKey:1,isValid:!0,isSubmitted:!1,initialStepName:null,navigatedStepName:null,steps:[],fields:[]}},isObject=function(e){return e&&"object"===_typeof(e)&&e.constructor===Object},parseValues=function(e){return Object.keys(e).reduce((function(e,t){return parseValuesName(t,e)}),e)},parseValuesName=function(e,t){if(e.indexOf(".")<0&&e.indexOf("[")<0)return t;var r=t[e],n=t||{},o=(n[e],_objectWithoutProperties(n,[e].map(_toPropertyKey))),i=_toArray(e.split(".")),a=i[0],u=i.slice(1);if(a.match(/\[([0-9]*)\]$/g)){var s=_slicedToArray(a.split(/(\[|\])/g),3),c=s[0],l=s[2],p=t[c]||[];if(u.length){var f=_objectSpread2({},t[c]&&isObject(t[c][l])?t[c][l]:{},_defineProperty({},u.join("."),r));p[l]=parseValues(f)}else p[l]=r;return _objectSpread2({},o,_defineProperty({},c,p))}var d=_objectSpread2({},isObject(t[a])?t[a]:{},_defineProperty({},u.join("."),r));return _objectSpread2({},o,_defineProperty({},a,parseValues(d)))},getFormValues=function(e){var t=(e||[]).filter((function(e){return e.isEnabled})).reduce((function(e,t){return _objectSpread2({},e,_defineProperty({},t.name,t.value))}),{});return parseValues(t)},getField=function(e,t){return(t||[]).find((function(t){return t.name===e}))},getEnabledFieldsByStep=function(e,t){return(t||[]).filter((function(e){return e.isEnabled})).filter((function(t){return t.step===e}))},getFieldErrors=function(e,t){var r=getField(e,t);if(!r)return[];var n=(r.validations||[]).map((function(e){return e.rule&&!e.rule(r.value)?e.message:"___FIELD_IS_VALID___"})).filter((function(e){return"___FIELD_IS_VALID___"!==e}));return r.externalError?[r.externalError].concat(_toConsumableArray(n)):n},getEnabledSteps=function(e){return(e||[]).filter((function(e){return e.isEnabled}))},getStepsOrdered=function(e){return(e||[]).sort((function(e,t){return e.index-t.index})).sort((function(e,t){return e.order-t.order})).map((function(e,t){return _objectSpread2({},e,{index:t})}))},getCurrentStepNameFromState=function(e){return e.navigatedStepName||e.initialStepName},getStepPosition=function(e,t){return(t||[]).filter((function(e){return e.isEnabled})).findIndex((function(t){return t.name===e}))||0},getStep=function(e,t){var r=getEnabledSteps(t);return getStepsOrdered(r).find((function(t){return t.name===e}))||{}},getFieldStepName=function(e,t){var r=t.find((function(t){return t.name===e}));if(r&&r.isEnabled)return r.step},getUniqueId=function(e){return"formiz-".concat(e,"-id-").concat(Math.random().toString(36).substr(2,9))},FormContext=React__default.createContext(),useFormContext=function(){return React.useContext(FormContext)},FormContextProvider=function(e){var t=e.children,r=e.onStateChange,n=e.onSubmit,o=e.onValidSubmit,i=e.onInvalidSubmit,a=React.useMemo((function(){return getUniqueId("form")}),[]),u=_slicedToArray(React.useState(getInitialState(a)),2),s=u[0],c=u[1],l=React.useCallback((function(e){c((function(t){return e(t)}))}),[]);return React.useEffect((function(){r(s)}),[s]),React__default.createElement(FormContext.Provider,{value:{state:s,dispatch:l,onSubmit:n,onValidSubmit:o,onInvalidSubmit:i}},t)};FormContextProvider.propTypes={children:PropTypes.node.isRequired,onStateChange:PropTypes.func,onSubmit:PropTypes.func,onValidSubmit:PropTypes.func,onInvalidSubmit:PropTypes.func},FormContextProvider.defaultProps={onStateChange:function(){},onSubmit:function(){},onValidSubmit:function(){},onInvalidSubmit:function(){}};var formValidate=function(){return function(e){var t=(e.fields||[]).map((function(t){return _objectSpread2({},t,{errors:getFieldErrors(t.name,e.fields)})})),r=t.filter((function(e){return e.isEnabled})).every((function(e){return!e.errors.length})),n=(e.steps||[]).map((function(e){return _objectSpread2({},e,{isValid:getEnabledFieldsByStep(e.name,t).every((function(e){return!e.errors.length}))})}));return _objectSpread2({},e,{fields:t,steps:n,isValid:r})}},formInvalidateFields=function(e){return function(t){var r=t.fields.map((function(t){var r=e[t.name];return r?_objectSpread2({},t,{externalError:r}):t})),n=_objectSpread2({},t,{fields:r});return n=formValidate()(n)}},formSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(n){var o=(n.steps||[]).map((function(e){return _objectSpread2({},e,{isSubmitted:!0})})),i=getFormValues(n.fields);e(i);var a=_objectSpread2({},n,{steps:o,isSubmitted:!0});return(a=formValidate()(a)).isValid?t(i):r(i),a}},formReset=function(){return function(e){var t=(e.fields||[]).map((function(e){e.externalError;var t=_objectWithoutProperties(e,["externalError"]);return _objectSpread2({},t,{isPristine:!0,value:t.defaultValue})})),r=(e.steps||[]).map((function(e){return _objectSpread2({},e,{isSubmitted:!1,isVisited:!1})})),n=_objectSpread2({},e,{fields:t,steps:r,isSubmitted:!1,navigatedStepName:e.initialStepName,resetKey:e.resetKey+1});return n=formValidate()(n)}},stepRegister=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.order,n=void 0===r?0:r,o=t.label,i=void 0===o?"":o,a=t.isEnabled,u=void 0===a||a;return function(t){var r=t.steps.find((function(t){return t.name===e}))||{},o=t.steps.filter((function(t){return t.name!==e})),a=getStepsOrdered([].concat(_toConsumableArray(o),[_objectSpread2({},r,{name:e,label:i,order:n,isValid:!0,isVisited:!1,isSubmitted:!1,isEnabled:u})])),s=_objectSpread2({},t,{steps:a,initialStepName:a.length?a[0].name:null});return s=formValidate()(s)}},stepUnregister=function(e){return function(t){var r=t.steps.filter((function(t){return t.name!==e})),n=_objectSpread2({},t,{steps:getStepsOrdered(r)});return n=formValidate()(n)}},stepUpdate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.label,n=t.isEnabled;return function(t){var o=t.steps.find((function(t){return t.name===e}))||{},i=t.steps.filter((function(t){return t.name!==e})),a=getStepsOrdered([].concat(_toConsumableArray(i),[_objectSpread2({},o,{label:r,isEnabled:n})]));return _objectSpread2({},t,{steps:a})}},stepSetVisited=function(e){return function(t){var r=t.steps.find((function(t){return t.name===e}))||{},n=t.steps.filter((function(t){return t.name!==e})),o=getStepsOrdered([].concat(_toConsumableArray(n),[_objectSpread2({},r,{isVisited:!0})]));return _objectSpread2({},t,{steps:o})}},stepGoTo=function(e){return function(t){var r=t.steps,n=getEnabledSteps(r).find((function(t){return t.name===e}));if(!n||!n.name)return t;var o=_objectSpread2({},t,{navigatedStepName:n.name});return o=formValidate()(o)}},stepGoToPosition=function(e){return function(t){var r=t.steps,n=getEnabledSteps(r)[e]||{};return stepGoTo(n.name)(t)}},stepGoNext=function(){return function(e){var t=e.steps,r=getEnabledSteps(t).length,n=getCurrentStepNameFromState(e),o=getStepPosition(n,t),i=r>0?o+1:0;return stepGoToPosition(i=i>r-1?o:i)(e)}},stepGoPrev=function(){return function(e){var t=e.steps,r=getCurrentStepNameFromState(e),n=getStepPosition(r,t)-1;return stepGoToPosition(n=n<0?0:n)(e)}},stepSubmit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return function(o){var i=o.steps.find((function(t){return t.name===e}))||{},a=o.steps.filter((function(t){return t.name!==e})),u=getStepsOrdered([].concat(_toConsumableArray(a),[_objectSpread2({},i,{isSubmitted:!0})])),s=_objectSpread2({},o,{steps:u});return i.isValid?(s.navigatedStepName===(s=stepGoNext()(s)).navigatedStepName&&(s=formSubmit(t,r,n)(s)),s):s}},fieldRegister=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.value,o=void 0===n?null:n,i=r.step,a=void 0===i?null:i,u=r.validations,s=void 0===u?[]:u;return function(r){var n=r.fields.find((function(e){return e.name===t}))||{},i=r.fields.filter((function(e){return e.name!==t})),u=[].concat(_toConsumableArray(i),[_objectSpread2({},n,{id:e,name:t,value:n.value||o,defaultValue:o,isEnabled:!0,isPristine:!0,step:a,validations:s,errors:[]})]),c=_objectSpread2({},r,{fields:u});return c=formValidate()(c)}},fieldUnregister=function(e,t){return function(r){var n=r.fields.find((function(t){return t.id===e}));if(!n)return r;var o=r.fields.filter((function(t){return t.id!==e})),i=t?[].concat(_toConsumableArray(o),[_objectSpread2({},n,{isEnabled:!1})]):o,a=_objectSpread2({},r,{fields:i});return a=formValidate()(a)}},fieldUpdateValidations=function(e,t){return function(r){var n=r.fields.find((function(t){return t.id===e}));if(!n)return r;var o=r.fields.filter((function(t){return t.id!==e})),i=[].concat(_toConsumableArray(o),[_objectSpread2({},n,{validations:t})]),a=_objectSpread2({},r,{fields:i});return a=formValidate()(a)}},fieldSetValue=function(e,t){return function(r){var n=r.fields.find((function(t){return t.id===e}));if(!n)return r;var o=r.fields.filter((function(t){return t.id!==e})),i=(n.externalError,_objectWithoutProperties(n,["externalError"])),a=[].concat(_toConsumableArray(o),[_objectSpread2({},i,{value:t,isPristine:!1})]),u=_objectSpread2({},r,{fields:a});return u=formValidate()(u)}},initialFormState={id:null,submit:function(){},isValid:!0,isSubmitted:!1,values:{},invalidateFields:function(){},reset:function(){},resetKey:0,currentStep:{},steps:[],isStepValid:!0,isStepSubmitted:!1,isFirstStep:!0,isLastStep:!0,submitStep:function(){},getFieldStepName:function(){},nextStep:function(){},prevStep:function(){},goToStep:function(){}},useFormState=function(){var e=useFormContext();if(!e)return null;var t=e.state,r=e.dispatch,n=e.onSubmit,o=e.onValidSubmit,i=e.onInvalidSubmit,a=t.id,u=t.fields,s=t.isValid,c=t.isSubmitted,l=t.steps,p=t.resetKey,f=getFormValues(u),d=function(e){return{name:e.name,label:e.label,isValid:e.isValid,isVisited:e.isVisited,isSubmitted:e.isSubmitted,index:e.index}},m=getEnabledSteps(l),b=m.length,y=getCurrentStepNameFromState(t),S=getStep(y,m),v=getStepPosition(y,m);return{id:a,submit:function(e){e&&e.preventDefault(),r(formSubmit(n,o,i))},isValid:s,isSubmitted:c,values:f,invalidateFields:function(e){r(formInvalidateFields(e))},reset:function(){r(formReset())},resetKey:p,currentStep:d(S),steps:m.map(d),isStepValid:S.isValid,isStepSubmitted:S.isSubmitted,isFirstStep:0===v,isLastStep:v===b-1,submitStep:function(e){e&&e.preventDefault(),r(stepSubmit(y,n,o,i))},getFieldStepName:function(e){return getFieldStepName(e,u)},nextStep:function(){r(stepGoNext())},prevStep:function(){r(stepGoPrev())},goToStep:function(e){r(stepGoTo(e))}}},propTypes={children:PropTypes.node,autoForm:PropTypes.bool,onValid:PropTypes.func,onInvalid:PropTypes.func,onChange:PropTypes.func,connect:PropTypes.shape({__connect__:PropTypes.func})},defaultProps={children:"",autoForm:!1,onValid:function(){},onInvalid:function(){},onChange:function(){},connect:{__connect__:function(){}}},Form=function(e){var t=e.children,r=e.autoForm,n=e.onValid,o=e.onInvalid,i=e.onChange,a=e.connect,u=useFormContext().dispatch,s=useFormState();return i(s.values),s.isValid?n():o(),React.useEffect((function(){a.__connect__(s)}),[u,JSON.stringify(a.__connect__),JSON.stringify(s)]),r?React__default.createElement("form",{noValidate:!0,onSubmit:s.submit},t):t};Form.propTypes=propTypes,Form.defaultProps=defaultProps;var ErrorStepWithoutName=new Error("A <FormizStep> always needs a `name` attribute."),propTypes$1={as:PropTypes.oneOfType([PropTypes.func,PropTypes.string,PropTypes.shape({$$typeof:PropTypes.symbol,render:PropTypes.func}),PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func,PropTypes.string,PropTypes.shape({$$typeof:PropTypes.symbol,render:PropTypes.func})]))]),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isEnabled:PropTypes.bool,name:PropTypes.string.isRequired,label:PropTypes.node,order:PropTypes.number,style:PropTypes.oneOfType([PropTypes.object,PropTypes.array])},defaultProps$1={as:"div",children:"",isEnabled:!0,label:"",order:0,style:{}},FormStep=function(e){var t=e.as,r=e.children,n=e.isEnabled,o=e.name,i=e.label,a=e.order,u=e.style,s=_objectWithoutProperties(e,["as","children","isEnabled","name","label","order","style"]);if(!o)throw ErrorStepWithoutName;var c=useFormContext().dispatch,l=useFormState().currentStep,p=l.name===o;return React.useEffect((function(){l.name&&!l.isVisited&&p&&c(stepSetVisited(l.name))})),React.useEffect((function(){p&&!n&&c(stepGoPrev())}),[n,p]),React.useEffect((function(){return c(stepRegister(o,{order:a})),function(){c(stepUnregister(o))}}),[o,a]),React.useEffect((function(){c(stepUpdate(o,{label:i,isEnabled:!!n}))}),[n,i]),"function"==typeof r?r({isActive:p}):React__default.createElement(t,_extends({style:_objectSpread2({},u,{display:p?null:"none"})},s),n&&r)};FormStep.propTypes=propTypes$1,FormStep.defaultProps=defaultProps$1;var FormStepContext=React__default.createContext(),useFormStepName=function(){return React.useContext(FormStepContext)},FormStepContextProvider=function(e){var t=e.children,r=e.name;return React__default.createElement(FormStepContext.Provider,{value:r},t)};FormStepContextProvider.propTypes={children:PropTypes.node.isRequired,name:PropTypes.string},FormStepContextProvider.defaultProps={name:null};var useForm=function(){var e=_slicedToArray(React.useState(initialFormState),2),t=e[0],r=e[1],n=useFormState();if(n)return n;return _objectSpread2({},t,{__connect__:function(e){r(e)}})};function memoize(e,t){var r=t&&t.cache?t.cache:cacheDefault,n=t&&t.serializer?t.serializer:serializerDefault;return(t&&t.strategy?t.strategy:strategyDefault)(e,{cache:r,serializer:n})}function isPrimitive(e){return null==e||"number"==typeof e||"boolean"==typeof e}function monadic(e,t,r,n){var o=isPrimitive(n)?n:r(n),i=t.get(o);return void 0===i&&(i=e.call(this,n),t.set(o,i)),i}function variadic(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),i=t.get(o);return void 0===i&&(i=e.apply(this,n),t.set(o,i)),i}function assemble(e,t,r,n,o){return r.bind(t,e,n,o)}function strategyDefault(e,t){return assemble(e,this,1===e.length?monadic:variadic,t.cache.create(),t.serializer)}function strategyVariadic(e,t){return assemble(e,this,variadic,t.cache.create(),t.serializer)}function strategyMonadic(e,t){return assemble(e,this,monadic,t.cache.create(),t.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(e){return e in this.cache},ObjectWithoutPrototypeCache.prototype.get=function(e){return this.cache[e]},ObjectWithoutPrototypeCache.prototype.set=function(e,t){this.cache[e]=t};var cacheDefault={create:function(){return new ObjectWithoutPrototypeCache}},src=memoize,strategies={variadic:strategyVariadic,monadic:strategyMonadic};src.strategies=strategies;var ErrorFieldWithoutForm=new Error("A Formiz field always needs to be in a `<Formiz>` component."),ErrorFieldWithoutName=new Error("A Formiz field always needs a `name` attribute."),DEFAULT_FIELD_DEBOUNCE=100,fieldPropTypes={debounce:PropTypes.number,defaultValue:PropTypes.any,formatValue:PropTypes.func,required:PropTypes.oneOfType([PropTypes.bool,PropTypes.node]),keepValue:PropTypes.bool,name:PropTypes.string,onChange:PropTypes.func,validations:PropTypes.arrayOf(PropTypes.shape({rule:PropTypes.func,message:PropTypes.node}))},fieldDefaultProps={debounce:DEFAULT_FIELD_DEBOUNCE,defaultValue:null,formatValue:function(e){return e},required:!1,keepValue:!1,onChange:function(){},validations:[]},getIsRequiredValidation=function(e){return e||""===e?{rule:function(e){return!!e||0===e},message:!0!==e?e:""}:{}},getValidations=function(e,t){var r=[getIsRequiredValidation(e)];return[].concat(r,_toConsumableArray(t)).filter((function(e){return e.rule})).map((function(e){return _objectSpread2({},e,{rule:src(e.rule)})}))},useField=function(e){var t=e.debounce,r=void 0===t?DEFAULT_FIELD_DEBOUNCE:t,n=e.defaultValue,o=e.formatValue,i=void 0===o?function(e){return e}:o,a=e.required,u=e.keepValue,s=e.name,c=e.onChange,l=e.validations,p=void 0===l?[]:l,f=React.useMemo((function(){return getUniqueId("field")}),[]);if(!s)throw ErrorFieldWithoutName;var d=useFormContext(),m=useFormStepName();if(!d)throw ErrorFieldWithoutForm;var b=d.state,y=d.dispatch,S=b.fields.find((function(e){return e.name===s}))||{},v=(S.errors||[]).filter((function(e){return!!e})),_=getStep(m,b.steps),g=_.name?_.isSubmitted:b.isSubmitted,P=_slicedToArray(React.useState(S.value||n),2),h=P[0],T=P[1],F=React.useRef(r);F.current=r;var j=React.useRef();j.current=n;var E=React.useRef();E.current=h;var V=React.useRef();V.current=u;var O=React.useRef();O.current=i;var C=React.useRef(!0);return React.useEffect((function(){return y(fieldRegister(f,s,{value:E.current||j.current,step:m,validations:getValidations(a,p)})),function(){y(fieldUnregister(f,V.current))}}),[f,s,m]),React.useEffect((function(){V.current||T(j.current)}),[b.resetKey]),React.useEffect((function(){if(C.current)return function(){};var e=O.current(h);if(!F.current)return y(fieldSetValue(f,e)),function(){};var t=setTimeout((function(){y(fieldSetValue(f,e))}),F.current);return function(){clearTimeout(t)}}),[JSON.stringify(h),f]),React.useEffect((function(){C.current||y(fieldUpdateValidations(f,getValidations(a,p)))}),[f,a].concat(_toConsumableArray(p.reduce((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t.deps||[]),[t.message])}),[])))),React.useEffect((function(){C.current=!1}),[]),{id:f,resetKey:b.resetKey,value:h||"",valueDebounced:S.value||n||"",errorMessages:v,errorMessage:v[0],isValid:!S.errors||!S.errors.length,isPristine:!!S.isPristine,isSubmitted:g,setValue:function(e){T(e),c&&c(O.current(e))}}},Formiz=function(e){return React__default.createElement(FormContextProvider,e,React__default.createElement(Form,e))};Formiz.propTypes=_objectSpread2({},propTypes,{onSubmit:PropTypes.func,onValidSubmit:PropTypes.func,onInvalidSubmit:PropTypes.func}),Formiz.defaultProps=_objectSpread2({},defaultProps,{onSubmit:function(){},onValidSubmit:function(){},onInvalidSubmit:function(){}});var FormizStep=function(e){var t=e.name,r=e.order,n=_objectWithoutProperties(e,["name","order"]);return React__default.createElement(FormStepContextProvider,{name:t},React__default.createElement(FormStep,_extends({},n,{name:t,order:r})))};FormizStep.propTypes=propTypes$1,FormizStep.defaultProps=defaultProps$1,exports.Formiz=Formiz,exports.FormizStep=FormizStep,exports.fieldDefaultProps=fieldDefaultProps,exports.fieldPropTypes=fieldPropTypes,exports.useField=useField,exports.useForm=useForm;
//# sourceMappingURL=index.js.map
